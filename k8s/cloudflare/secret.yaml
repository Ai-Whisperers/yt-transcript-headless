apiVersion: v1
kind: Secret
metadata:
  name: cloudflared-credentials
  namespace: cloudflare-tunnel
  labels:
    app: cloudflared
type: Opaque
stringData:
  # Tunnel credentials JSON
  # This file is generated when you create a Cloudflare Tunnel
  #
  # IMPORTANT: Do NOT commit actual credentials to version control
  # This is a template file only
  #
  # To create the secret with actual credentials:
  #
  # Option 1: From credentials file
  # kubectl create secret generic cloudflared-credentials \
  #   --from-file=credentials.json=/path/to/your/tunnel-credentials.json \
  #   --namespace=cloudflare-tunnel
  #
  # Option 2: From literal JSON (if you have the JSON content)
  # kubectl create secret generic cloudflared-credentials \
  #   --from-literal=credentials.json='{"AccountTag":"xxx","TunnelSecret":"xxx","TunnelID":"xxx"}' \
  #   --namespace=cloudflare-tunnel
  #
  # The credentials.json file contains:
  # {
  #   "AccountTag": "your-account-id",
  #   "TunnelSecret": "your-tunnel-secret",
  #   "TunnelID": "your-tunnel-id"
  # }
  #
  # Get credentials by running:
  # cloudflared tunnel create <tunnel-name>
  #
  # Credentials will be saved to:
  # ~/.cloudflared/<tunnel-id>.json

  credentials.json: |
    {
      "AccountTag": "<ACCOUNT_ID>",
      "TunnelSecret": "<TUNNEL_SECRET>",
      "TunnelID": "<TUNNEL_ID>"
    }

---
# Security Notes:
#
# 1. Create a separate secret.local.yaml file with actual credentials
# 2. Add secret.local.yaml to .gitignore
# 3. Never commit actual credentials to version control
# 4. Use kubectl create secret command instead of applying this template
# 5. Rotate credentials regularly using Cloudflare dashboard
#
# For detailed setup instructions, see:
# docs/CLOUDFLARE-SETUP.md
