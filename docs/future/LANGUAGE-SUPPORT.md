# Multi-Language Support

**Doc-Type:** Future Feature · Version 0.1.0 · Updated 2025-11-14 · AI Whisperers

## Overview

Support for extracting transcripts in multiple languages and auto-translation.

## Language Detection

### Auto-Detection
```json
{
  "url": "https://youtube.com/watch?v=ID",
  "format": "json",
  "language": "auto"
}
```

### Specific Language
```json
{
  "url": "https://youtube.com/watch?v=ID",
  "format": "json",
  "language": "es"
}
```

## Supported Languages

| Code | Language | Auto-Generated | Manual |
|------|----------|----------------|--------|
| en | English | Yes | Yes |
| es | Spanish | Yes | Yes |
| fr | French | Yes | Yes |
| de | German | Yes | Yes |
| pt | Portuguese | Yes | Yes |
| ja | Japanese | Yes | Yes |
| ko | Korean | Yes | Yes |
| zh | Chinese | Yes | Yes |

## API Changes

### Language Parameter
```http
POST /api/transcribe
```

```json
{
  "url": "https://youtube.com/watch?v=ID",
  "format": "json",
  "options": {
    "language": "es",
    "fallbackLanguage": "en",
    "includeAutoGenerated": true
  }
}
```

### Response with Language Info
```json
{
  "success": true,
  "data": {
    "transcript": [...],
    "language": {
      "requested": "es",
      "available": ["en", "es", "fr"],
      "selected": "es",
      "isAutoGenerated": true
    }
  }
}
```

## Translation Feature

### Translation Request
```http
POST /api/transcribe/translate
```

```json
{
  "url": "https://youtube.com/watch?v=ID",
  "targetLanguage": "es",
  "sourceLanguage": "auto"
}
```

### Translation Response
```json
{
  "success": true,
  "data": {
    "original": {
      "language": "en",
      "transcript": [...]
    },
    "translated": {
      "language": "es",
      "transcript": [...]
    },
    "translationService": "google"
  }
}
```

## Implementation Details

### Language Selector
```typescript
class LanguageSelector {
  async detectAvailable(page: Page): Promise<string[]>
  async selectLanguage(page: Page, lang: string): Promise<boolean>
  async getFallback(available: string[], preferred: string): string
}
```

### Translation Service
```typescript
interface TranslationService {
  translate(text: string, from: string, to: string): Promise<string>
  detectLanguage(text: string): Promise<string>
  isSupported(language: string): boolean
}
```

## UI Components

### Language Selector UI
- Dropdown with available languages
- Auto-detect option
- Preferred language setting
- Translation toggle

### Display Options
- Side-by-side comparison
- Original with subtitles
- Translated only
- Export bilingual

## Caching Strategy

### Cache Key with Language
```
yt:v1:{videoId}:{format}:{language}:{autoGenerated}
```

### Translation Cache
```
translation:v1:{hash(text)}:{sourceLang}:{targetLang}
```

## Configuration

```env
DEFAULT_LANGUAGE=en
FALLBACK_LANGUAGE=en
TRANSLATION_SERVICE=google
TRANSLATION_API_KEY=your-api-key
INCLUDE_AUTO_GENERATED=true
```